<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Información de Lima</title>
    <meta name="description" content="Información de sitios históricos de Lima">
    <!-- Librerías de A-Frame -->
    <script src="https://aframe.io/releases/1.4.1/aframe.min.js"></script>
    <script src="https://unpkg.com/aframe-environment-component@1.4.x/dist/aframe-environment-component.min.js"></script>
    <!-- Scripts personalizados -->
    <script src="info-message.js"></script>
    <script src="highlight.js"></script>
    <script src="info-panel.js"></script>
    <script src="panel_auxiliar.js"></script>

  </head>
  <body>
    <a-scene
      background="color: #212"
      environment="preset: forest"
      cursor="rayOrigin: mouse; fuse: false"
      raycaster="objects: .raycastable"
      info-message="htmlSrc: #messageText"
    >
      <!-- Recursos -->
      <a-assets>
        <!-- Mensajes -->
        <a-asset-item id="messageText" src="message.html"></a-asset-item>

        <!-- Imágenes -->
        <img id="puentePiedra" src="imagenes/puentePiedra1.jpg" />
        <img id="puentePiedraPoster" src="imagenes/puentePiedra_Poster.jpg" />
        <img id="huallamarca" src="imagenes/huaca1.jpg" />
        <img id="huallamarcaPoster" src="imagenes/huaca_Poster.jpg" />
        <img id="santoDomingo" src="imagenes/santoDomingo.jpg" />
        <img id="santoDomingoPoster" src="imagenes/santoDomingoPoster.jpg" />

        <!-- Mixins -->
        <a-mixin
          id="frame"
          geometry="primitive: plane; width: 0.5783552; height: 0.8192"
          material="color: white; shader: flat"
          animation__scale="property: scale; to: 1.2 1.2 1.2; dur: 200; startEvents: mouseenter"
          animation__scale_reverse="property: scale; to: 1 1 1; dur: 200; startEvents: mouseleave"
        ></a-mixin>

        <a-mixin
          id="poster"
          geometry="primitive: plane; width: 0.544768; height: 0.786432"
          material="shader: flat"
          position="0 0 0.005"
        ></a-mixin>

        <a-mixin
          id="infoImage"
          geometry="primitive: plane; width: 1.5; height: 0.81"
          material="shader: flat; transparent: true"
          position="0 0.495 0.002"
        ></a-mixin>
      </a-assets>

      <!-- Fondo -->
      <a-entity
        id="background"
        position="0 0 0"
        geometry="primitive: sphere; radius: 2.0"
        material="color: red; side: back; shader: flat"
        scale="0.001 0.001 0.001"
        visible="false"
        class="raycastable"
      ></a-entity>

      <!-- Cámara -->
      <a-entity
        position="0 1.6 0"
        camera
        look-controls="magicWindowTrackingEnabled: false; touchEnabled: true; mouseEnabled: true"
        wasd-controls
      >
        <a-entity
          id="fadeBackground"
          geometry="primitive: sphere; radius: 2.5"
          material="color: #999999; side: back; shader: flat; blending: subtractive;"
          visible="false"
        ></a-entity>
      </a-entity>

      <!-- Interfaz de usuario -->
      <a-entity id="ui" position="0 1.6 -2.5">
        <!-- Menú -->
        <a-entity id="menu" highlight>
          <!-- Botones -->
          <a-entity
            id="puentePiedraButton"
            position="-5 0 0"
            mixin="frame"
            rotation="0 90 0" 

            class="raycastable menu-button"
          >
            <a-entity material="src: #puentePiedraPoster;" mixin="poster"></a-entity>
          </a-entity>
          <a-entity
            id="huallamarcaButton"
            position="0 0 0"
            mixin="frame"
            rotation="0 90 0" 

            class="raycastable menu-button"
          >
            <a-entity material="src: #huallamarcaPoster;" mixin="poster"></a-entity>
          </a-entity>
          <a-entity
            id="santoDomingoButton"
            position="0.8 0 0"
            mixin="frame"
            rotation="0 90 0" 

            class="raycastable menu-button"
          >
            <a-entity material="src: #santoDomingoPoster;" mixin="poster"></a-entity>
          </a-entity>
        </a-entity>

        <!-- Panel de Información -->
        <a-entity
          id="infoPanel"
          position="0 0 0.5"
          info-panel
          visible="false"
          scale="0.001 0.001 0.001"
          geometry="primitive: plane; width: 1.5; height: 1.8"
          material="color: #333333; shader: flat; transparent: false"
          class="raycastable"
        >
          <!-- Contenido del Panel -->
          <a-entity
            id="puentePiedraInfoImage"
            mixin="infoImage"
            material="src: #puentePiedra"
            visible="false"
          ></a-entity>
          <a-entity
            id="huallamarcaInfoImage"
            mixin="infoImage"
            material="src: #huallamarca"
            visible="false"
          ></a-entity>
          <a-entity
            id="santoDomingoInfoImage"
            mixin="infoImage"
            material="src: #santoDomingo"
            visible="false"
          ></a-entity>

          <!-- Títulos y Descripciones -->
          <a-entity
            id="infoTitle"
            position="-0.68 -0.1 0"
            text="shader: msdf; anchor: left; width: 1.5; font: https://cdn.aframe.io/examples/ui/Viga-Regular.json; color: white; value: Titulo"
          ></a-entity>
          <a-entity
            id="infoDescription"
            position="-0.68 -0.2 0"
            text="baseline: top; shader: msdf; anchor: left; font: https://cdn.aframe.io/examples/ui/Viga-Regular.json; color: white; value: Descripcion"
          ></a-entity>
        </a-entity>
      </a-entity>
    </a-scene>

  </body>
</html>

